# DBCA

# 데이터베이스 작업 : 데이터베이스 생성
# 생성 모드 : 고급 구성
# 배치 유형 : 데이터베이스 유형(Oracle 단일 인스턴스 데이터베이스) -> 사용자 데이터베이스 체크
# 데이터베이스 식별 : 전역 데이터베이스 이름(orcl), SID(orcl), 컨테이너 데이터베이스로 생성(체크 해제)
# 저장 영역 옵션 : 데이터베이스 저장 영역 속성에 다음 사용, 파일 시스템
# 빠른 복구 옵션 : 체크 해제(빠른 복구 영역 지정, 아카이브)
# 네트워크 구성 : 새 리스너 생성 -> 리스너 이름(listener) , 리스너 포트(1521)
# 데이터베이스 옵션 : Oracle [JVM,Text, Multimedia, OLAP, Spa~] = SYSAUX
# 구성 옵션 : 자동 공유 메모리 관리 사용 
# 관리 옵션 : EM 체크 해제
# 사용자 인증서 : 모든 계정에 동일한 비밀번호 사용
# 생성 옵션 : 데이터베이스 생성 체크

#DBCA Database File Location
templates #pwd
/oracle/app/database/assistants/dbca/templates

# Template Types
1. Seed(.dbc) / 데이터 파일 포함(Y) / 데이터베이스 구조(control   file의 데이터베이스 정의 내용) 및 실제 물리적인 데이터 파일을 포함한다. 데이터베이스 생성시 seed 데이터베이스를 복사하여 Nonseed 보다 생성속도가 빠르다.
Seed 템플릿을 이용하여 데이터베이스 생성시 사용자가 설정할 사항은 다음과 같다.
 데이터베이스   이름
 데이터 파일   경로
 컨트롤 파일   수
 온라인 리두   로그 그룹 수
 초기화 파라미터
2. Nonseed(.dbt) / 데이터 파일 포함(N) / Seed 템플릿을 이용하여 데이터베이스 생성시 보다 설정사항을 유연하게 가져갈 수 있지만 생성 속도는 더 느리다.

Storage Type = File System
Storge Locations : Use Database File Locations from Template

Automatic Archiving
Archive Log File Format : %t_%s_%r.arc => .arc로 확장자명 변경        /oracle/app/arch

Install File
Standard Database Components : Oracle JVM(System) / Oracle XML DB(SYSAUX)
Memory : Typical 40% => 고객사 요청에 따라 변경 가능

Sizing : block size=8192, Process : 변경 확인하기
Character Sets = 언어 설정 -> 초기 설정 이후 변경 어려우니 확인 후 설정
DB Install File 크기 늘리기 위해 커널 설정 이동 후 그와 맞는 크기로 설정

DBCA 과정 이후 고객사에게 설치 결과 보고서 제출 파일 = inst_chk_db.sh

Backspace = ^H 로 나올경우
ㄴ SQL 접속 -> stty erase ^H

SQL > select instance_name, status from v$instance; => Instance name과 OPEN 상태


# dbca 내리고 올리기
sp pfile 확인 : SQL > show parameter spfile; 
sp 파일에서 p파일 복제 : create pfile from spfile;
database 중지 : shutdown immediate
exit
vi /etc/hosts ## ip hostname 변경
SQL > startup
